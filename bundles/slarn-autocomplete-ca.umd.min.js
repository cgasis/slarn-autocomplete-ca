!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common/http"),require("@angular/core"),require("@angular/forms"),require("@angular/common"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("slarn-autocomplete-ca",["exports","@angular/common/http","@angular/core","@angular/forms","@angular/common","@angular/platform-browser"],t):t((e=e||self)["slarn-autocomplete-ca"]={},e.ng.common.http,e.ng.core,e.ng.forms,e.ng.common,e.ng.platformBrowser)}(this,(function(e,t,n,i,o,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function a(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var l,c=function(){function e(e){this._http=e}return e.prototype.search=function(e,t){var n=new URL(t);return n.searchParams.append("ac-reg",e),this._http.get(n.toString())},e.ctorParameters=function(){return[{type:t.HttpClient}]},e=a([n.Injectable()],e)}();!function(e){e.EN="en",e.FR="fr",e.AR="ar"}(l||(l={}));var u={availableLanguages:[l.EN,l.FR,l.AR],dictionary:{loadingText:{en:"Loading data...",fr:"Chargement des données...",ar:"تحميل البيانات..."},noMatchFoundText:{en:"No match found!",fr:"Pas de résultat trouvé!",ar:"لا يوجد تطابق!"},errors:{passingArrayValueWithNoMultipleOption:{en:'You have passed an array value to be selected\n either change the value or set the "multiple" option to true in the configuration.',fr:'Vous avez passé une valeur de tableau à sélectionner\n modifier la valeur ou changer l\'option "multiple" à true dans la configuration.',ar:'لقد قمت بتمرير قيمة جدول لاختيارها, عليك بتغير القمة أو تغير الخيار "multiple" إلى "true".'},unknownType:{en:'The type of "selectedId" must be number, string or Array of numbers or strings!',fr:'Le type de "selectedId" doit être number, string ou tableau de numbers ou strings',ar:'نوع المتغير "selectedId" يجب أن يكون numbers، strings أو مصفوفة numbers أو strings'},unknownLanguage:{en:'Unknown language ":1"!\n Please make sure to select one of the available languages ":2".',fr:'Langue inconnue ":1"\n Assurez-vous de sélectionner l\'une des langues disponibles ":2".',ar:'اللغة المختارة ":1" غير معروفة، الرجاء إختيار واحدة من الغات المتوفرة ":2".'},unknownFieldForGroupOption:{en:'You have added the option "group" to the autocomplete but forgot to specify the "field"!',fr:'Vous avez ajouté l\'option "group" mais vous avez oublié l\'option "field"!',ar:'لقد قمت بإضافة الخيار "group" لكن لم تحدد الخيار "field"!'},unknownKeyValue:{en:'Can\'t find the key ":1" in the object ":2"!',fr:'On ne peux pas trouvé le clé ":1" dans l\'object ":2"!',ar:'لم نتمكن من إيجاد المتغير ":1" في المكون ":2"!'},duplicateItemDetected:{en:'An item with the same "key" value already exist in the "data" array: ":1"\nUnable to append the item ":2"',fr:'An élément avec la même valeur de "key" existe dans le tableau "data": ":1"\nImpossible d\'ajouter l\'élément ":2"',ar:'يوجد عنصر بنفس قمة المتغير "key" في المصفوفة "data": ":1"\n لا يمكن إضافة العنصر: ":2"'},appendItemWorkOnlyLocally:{en:'"appendItem()" function is for local configuration only\nIf you are using an API (remote configuration) and you add a new object to it then this new object will be available when you start typing in the autocomplete.\'',fr:'"appendItem()" est une fonction pour la configuration locale\nSi vous utilisez une API (configuration à distance) et vous ajoutez un nouveau objet donc ce dérnier sera disponible lorsque vous commencez à taper dans l\'autocomplete.',ar:'"appendItem()" هي وظيفة تستعمل فقط في التكوين المحلي "ACLocalConfoguration"\n إذا كنت تستعمل التكوين عن بعد "ACRemoteConfiguration" إذاً العنصر الجديد سيكون متاح حالما تشرع في الكتابة.'}}}};function d(e,t){var n=1;return t.forEach((function(t){e=e.replace(":"+n,t),n++})),e}var g=function(){function e(e){var t=this;this._service=e,this._keys={searchTriggerKeys:[46,222,8,32],navigationKeys:[38,40,13]},this.propagateChange=null,this.typingTimer=null,this.doneTypingInterval=250,this._selectedIndexFromNavigation=-1,this.displaySuggestions=!1,this.loadingData=!1,this.filteredItems=[],this.groups=null,this.translator=u,this.unselectable=[],this.onItemSelected=new n.EventEmitter,this.checkIfClickedInside=function(e){t.container.nativeElement.contains(e.target)?t.autocompleteInput.nativeElement.focus():t.displaySuggestions=!1}}var t;return t=e,Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(e){this.filterSelectedValue(e),this.searchAndSelectItemFromKey()},enumerable:!0,configurable:!0}),e.prototype.filterSelectedValue=function(e){if(this._selectedId=e,this.configuration.multiple&&!Array.isArray(e)&&(this._selectedId=[],this._selectedId.push(e)),!this.configuration.multiple&&Array.isArray(e))throw new Error(this.translator.dictionary.errors.passingArrayValueWithNoMultipleOption[this.configuration.language]);if(Array.isArray(e)&&this.arrayHasObject(e)||!Array.isArray(e)&&"object"==typeof e)throw new Error(this.translator.dictionary.errors.unknownType[this.configuration.language])},e.prototype.arrayHasObject=function(e){var t=!1;return e.forEach((function(e){"object"==typeof e&&(t=!0)})),t},Object.defineProperty(e.prototype,"selectedData",{get:function(){return Array.isArray(this._selectedItem)?this.extractSelectedItems():this._selectedItem},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initConfiguration()},e.prototype.ngAfterViewInit=function(){this.extractTemplateVariables(),this.disabled||document.addEventListener("click",this.checkIfClickedInside,!0)},e.prototype.clearAutocomplete=function(){this.autocompleteInput.nativeElement.value="",this._selectedItem=null,this._selectedId=null,this.filteredItems=[]},e.prototype.toggleDisplaySuggestions=function(){this.displaySuggestions?this.closeSuggestions():this.openSuggestions()},e.prototype.initConfiguration=function(){this.configuration.rtl||(this.configuration.rtl=!1),this.prepareUsedLanguage(),this.configuration.multiple||(this.configuration.multiple=!1),this.configuration.template||(this.configuration.template="<div>#"+this.configuration.value+"#</div>"),this.configuration.minCharacters||(this.configuration.minCharacters=1),this.configuration.loadingView||(this.configuration.loadingView=u.dictionary.loadingText[this.configuration.language])},e.prototype.prepareUsedLanguage=function(){if(this.configuration.language||(this.configuration.language=l.EN),this.configuration.language&&-1==u.availableLanguages.indexOf(this.configuration.language)){var e=d(this.translator.dictionary.errors.unknownLanguage[l.EN],[this.configuration.language,JSON.stringify(u.availableLanguages)]);throw new Error(e)}},e.prototype.searchAndSelectItemFromKey=function(){this.configuration.data?this.selectItemFromData(this.configuration.data):this.configuration.url&&this.searchRemotely("",this.configuration.url,!0)},e.prototype.selectItemFromData=function(e){var t=this;if(this.configuration.multiple){this._selectedItem=[];var n=0;e.forEach((function(e){if(t._selectedId.includes(e[t.configuration.key])){var i={elem:e,indexInFilteredItems:n};t._selectedItem.push(i)}n++}))}else this._selectedItem=null,e.forEach((function(e){e[t.configuration.key]==t._selectedId&&(t._selectedItem=e,t.autocompleteInput.nativeElement.value=t._selectedItem[t.configuration.value])}));this.dispatchData()},e.prototype.extractTemplateVariables=function(){this._templateVariables=this.configuration.template.match(/\#(?:[a-zA-Z0-9_\.]+)\#/g)},e.prototype.onKeyup=function(e){var t=this;if(this.fireSearchKey(e)){var n=e.target.value;""==n?(this.displaySuggestions=!1,this.configuration.multiple||(this.clearAutocomplete(),this.dispatchData())):this.configuration.data?(this.displaySuggestions=!0,this.searchLocally(n,this.configuration.data)):this.configuration.url&&this.configuration.minCharacters<=n.length&&(this.displaySuggestions=!0,this.loadingData=!0,this.filteredItems=[],null!=this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((function(){t.searchRemotely(n,t.configuration.url)}),this.doneTypingInterval))}else this.navigationKey(e)&&(e.preventDefault(),this.navigate(e.which))},e.prototype.navigate=function(e){switch(this.clearAllSelections(),e){case 38:this._selectedIndexFromNavigation>0&&this._selectedIndexFromNavigation--,this.enableSelectionForSelectedSuggestion(this._selectedIndexFromNavigation);break;case 40:this._selectedIndexFromNavigation<this.filteredItems.length-1&&this._selectedIndexFromNavigation++,this.enableSelectionForSelectedSuggestion(this._selectedIndexFromNavigation);break;case 13:var t=null==this.configuration.group?this.filteredItems[this._selectedIndexFromNavigation]:this.getItemFromGroup(this._selectedIndexFromNavigation);this.performSelection(t)}},e.prototype.getItemFromGroup=function(e){var t,n,i,o,r=0,a=null;console.log("groups",this.groups);try{for(var l=s(this.groups),c=l.next();!c.done;c=l.next()){var u=c.value;console.log("grp",u);var d=this.filteredGroupedItems[u];try{for(var g=(i=void 0,s(d)),p=g.next();!p.done;p=g.next()){var f=p.value;e==r&&(a=f),r++}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.enableSelectionForSelectedSuggestion=function(e){this.suggestions.find((function(t,n,i){return n==e})).focusSuggestion=!0},e.prototype.clearAllSelections=function(){this.suggestions.forEach((function(e,t,n){e.focusSuggestion=!1}))},e.prototype.deleteFromSelectedItems=function(e,t){this._selectedItem.splice(e,1),this.filteredItems.splice(t.indexInFilteredItems,0,t.elem),this.buildGroupsIfNeeded(),this._selectedId.splice(e,1),0==this._selectedItem.length&&(this._selectedItem=null,this._selectedId=null),this.dispatchData()},e.prototype.onKeyDown=function(e){null!=this.typingTimer&&clearTimeout(this.typingTimer)},e.prototype.fireSearchKey=function(e){return e.which<=105&&e.which>=48||this._keys.searchTriggerKeys.indexOf(e.which)>-1},e.prototype.navigationKey=function(e){return this._keys.navigationKeys.indexOf(e.which)>-1},e.prototype.searchLocally=function(e,t){var n=this;this.filteredItems=[],t.forEach((function(t){-1==JSON.stringify(t).toLowerCase().indexOf(e.toLowerCase())||n.existInSelectedItems(t)||n.filteredItems.push(t),n.buildGroupsIfNeeded()}))},e.prototype.existInSelectedItems=function(e){var t=this;return!!Array.isArray(this._selectedItem)&&null!=this._selectedItem.find((function(n){return n.elem[t.configuration.key]===e[t.configuration.key]}))},e.prototype.searchRemotely=function(e,t,n){var i=this;this.loadingData=!0,this.filteredItems=[],this._service.search(e,t).subscribe((function(e){e.forEach((function(e){i.existInSelectedItems(e)||i.filteredItems.push(e)})),n&&i.selectItemFromData(i.filteredItems),i.buildGroupsIfNeeded(),i.loadingData=!1}))},e.prototype.buildGroupsIfNeeded=function(){if(null!=this.configuration.group){this.groups=[],this.filteredGroupedItems={};var e=this.group(this.filteredItems,this.configuration.group.field),t=this;Object.keys(e).sort().forEach((function(n){t.filteredGroupedItems[n]=e[n]})),this.groups=Object.keys(this.filteredGroupedItems)}},e.prototype.group=function(e,t){if(void 0===t)throw new Error(this.translator.dictionary.errors.unknownFieldForGroupOption[this.configuration.language]);var n={};return e.forEach((function(e){var i=t(e);i in n||(n[i]=[]),n[i].push(e)})),n},e.prototype.buildSuggestionView=function(e){var t=this,n=this.configuration.template;return this._templateVariables.forEach((function(i){var o=i.replace(/\#/g,""),r=t.extractValue(o,e);n=n.replace(i,r)})),n},e.prototype.buildGroupView=function(e){return(this.configuration.group.template&&""!=this.configuration.group.template?this.configuration.group.template:'<div style="background: #a7a3a3;padding: 5px;font-weight: bold;color: #fff;">#__group__#</div>').replace("#__group__#",e)},e.prototype.isItemUnselectable=function(e){return this.unselectable.includes(e[this.configuration.key])},e.prototype.extractValue=function(e,t){var n=this,i=null,o=e.split("."),r=o.length,a=1,s=t;return o.forEach((function(e){if(!(e in s)){var t=d(n.translator.dictionary.errors.unknownKeyValue[n.configuration.language],[e,JSON.stringify(s)]);throw new Error(t)}a<r?s=s[e]:i=s[e],a++})),i},e.prototype.performSelection=function(e){var t=this;if(this.configuration.multiple){var n=this.filteredItems.findIndex((function(n){return n[t.configuration.key]==e[t.configuration.key]}));null==this._selectedItem&&(this._selectedItem=[]);var i={elem:e,indexInFilteredItems:n};console.log("o",i),this._selectedItem.push(i),this.filteredItems.splice(n,1),0==this.filteredItems.length&&(this.displaySuggestions=!1),this.buildGroupsIfNeeded(),null==this._selectedId&&(this._selectedId=[]),this._selectedId.push(e[this.configuration.key]),this.autocompleteInput.nativeElement.value=""}else this._selectedItem=e,this._selectedId=e[this.configuration.key],this.autocompleteInput.nativeElement.value=this._selectedItem[this.configuration.value],this.displaySuggestions=!1;this._selectedIndexFromNavigation=-1,this.dispatchData()},e.prototype.dispatchData=function(){Array.isArray(this._selectedItem)?this.onItemSelected.emit(this.extractSelectedItems()):this.onItemSelected.emit(this._selectedItem),null!=this.propagateChange&&this.propagateChange(this._selectedId)},e.prototype.extractSelectedItems=function(){var e=[];return this._selectedItem.forEach((function(t){e.push(t.elem)})),e},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.writeValue=function(e){""!=e&&null!=e&&null!=e?(this.filterSelectedValue(e),this.searchAndSelectItemFromKey()):(this.clearAutocomplete(),this.dispatchData())},e.prototype.openSuggestions=function(){this.disabled||this.displaySuggestions||(this.displaySuggestions=!0,this.configuration.data?this.searchLocally("",this.configuration.data):this.configuration.url&&this.searchRemotely("",this.configuration.url))},e.prototype.closeSuggestions=function(){this.displaySuggestions=!1},e.prototype.appendItem=function(e,t){if(!this.configuration.data)throw new Error(this.translator.dictionary.errors.appendItemWorkOnlyLocally[this.configuration.language]);t=void 0!==t&&t;var n=this.findItem(this.configuration.data,e);if(null!=n){var i=d(this.translator.dictionary.errors.duplicateItemDetected[this.configuration.language],[JSON.stringify(n),JSON.stringify(e)]);throw new Error(i)}this.configuration.data.push(e),t&&this.performSelection(e)},e.prototype.findItem=function(e,t){var n=this;return e.find((function(e){return e[n.configuration.key]==t[n.configuration.key]}))},e.ctorParameters=function(){return[{type:c}]},a([n.ViewChild("autocompleteInput")],e.prototype,"autocompleteInput",void 0),a([n.ViewChild("displayAllBtn")],e.prototype,"displayAllBtn",void 0),a([n.ViewChild("container")],e.prototype,"container",void 0),a([n.ViewChild("spanX")],e.prototype,"spanX",void 0),a([n.ViewChildren("acsuggestion")],e.prototype,"suggestions",void 0),a([n.Input("configuration")],e.prototype,"configuration",void 0),a([n.Input("disabled")],e.prototype,"disabled",void 0),a([n.Input("unselectable")],e.prototype,"unselectable",void 0),a([n.Output("onItemSelected")],e.prototype,"onItemSelected",void 0),a([n.Input()],e.prototype,"selectedId",null),e=t=a([n.Component({selector:"slarn-autocomplete",template:'<div #container class="slarn-autocomplete-container" [ngClass]="{\'container-rtl-direction\': configuration.rtl, \'container-ltr-direction\': !configuration.rtl}">\n  <div class="curtan" *ngIf="disabled"></div>\n  \x3c!-- Hidden select will contain the key(s) of the selected item(s) --\x3e\n  <select\n    [attr.name]="(configuration.name) ? configuration.name : null"\n    [attr.multiple]="(configuration.multiple) ? \'multiple\' : null">\n    <ng-container *ngIf="configuration.multiple && _selectedItem != null">\n      <option *ngFor="let item of _selectedItem" [value]="(!configuration.multiple) ? item[configuration.key] : item.elem[configuration.key] " selected>\n        {{item[configuration.key]}}\n      </option>\n    </ng-container>\n    <ng-container *ngIf="!configuration.multiple">\n      <option [value]="(_selectedItem) ? _selectedItem[configuration.key] : \'\'" selected>\n        {{(_selectedItem) ? _selectedItem[configuration.value] : \'\' }}\n      </option>\n    </ng-container>\n  </select>\n\n  \x3c!-- When autocomplete is multiple _selectedItems will be displayed here --\x3e\n  <ng-container *ngIf="configuration.multiple && _selectedItem != null">\n        <span class="selected-options unselectable-text"\n              [ngClass]="{\'selected-options-rtl\': configuration.rtl, \'selected-options-ltr\': !configuration.rtl}"\n              *ngFor="let si of _selectedItem; let o = index;">\n            <span class="text" *ngIf="si.elem != undefined">{{si.elem[configuration.value]}}</span> <span class="remove"\n                                                                                                          (click)="deleteFromSelectedItems(o, si)">&nbsp;</span>\n        </span>\n  </ng-container>\n\n  \x3c!-- Autocomplete input will be visible to the user and contain the value --\x3e\n  <input #autocompleteInput id="ac" type="text" autocomplete="off" autoGrow [activated]="configuration.multiple"\n         [style.width]="(configuration.multiple) ? \'10px\' : \'100%\'"\n         (keyup)="onKeyup($event)" (keydown)="onKeyDown($event)"\n         [attr.value]="(!configuration.multiple && _selectedItem != null) ? _selectedItem[configuration.value] : null">\n  <span #spanX style="display: none;"></span>\n\n  \x3c!-- Display all button --\x3e\n  <button #displayAllBtn\n          class="toggle-suggestions-display"\n          (click)="toggleDisplaySuggestions()"\n          [style.right]="(!configuration.rtl) ? \'0\': null" [style.left]="(configuration.rtl) ? \'0\': null">\n  </button>\n\n  \x3c!-- Suggestions container --\x3e\n  <div class="suggestions" [style.display]="(displaySuggestions) ? \'block\' : \'none\'">\n    \x3c!--============== Suggestions list ====================--\x3e\n    \x3c!-- Display suggestions without grouping --\x3e\n    <ng-container *ngIf="configuration.group == null">\n      <slarn-ac-suggestion \n          #acsuggestion \n          *ngFor="let e of filteredItems; let i = index;" [item]="e"\n          [unselectable]="isItemUnselectable(e)"\n          (onSuggestionClicked)="performSelection($event)">\n        <div [innerHTML]="buildSuggestionView(e) | renderSafely"></div>\n      </slarn-ac-suggestion>\n    </ng-container>\n\n    \x3c!-- Display suggestions with grouping --\x3e\n    <ng-container *ngIf="configuration.group != null">\n      <div *ngFor="let g of groups">\n        <div [innerHTML]="buildGroupView(g) | renderSafely"></div>\n        <slarn-ac-suggestion #acsuggestion *ngFor="let e of filteredGroupedItems[g]; let i = index;" [item]="e"\n                             (onSuggestionClicked)="performSelection($event)">\n          <div [innerHTML]="buildSuggestionView(e) | renderSafely"></div>\n        </slarn-ac-suggestion>\n      </div>\n    </ng-container>\n    \x3c!--============== End Suggestions list =================--\x3e\n\n    \x3c!-- Displayed when no match found --\x3e\n    <div #emptyResult *ngIf="filteredItems != null && filteredItems.length == 0 && !loadingData"\n         class="no-match-found">\n      <ng-content select=".empty-result-view"></ng-content>\n      <ng-container *ngIf="emptyResult.children.length == 0">{{translator.dictionary.noMatchFoundText[configuration.language]}}</ng-container>\n    </div>\n\n    \x3c!--  Displayed when loading data from api --\x3e\n    <ng-container *ngIf="configuration.loadingView">\n      <div *ngIf="loadingData"\n           class="loading-data"\n           [innerHTML]="configuration.loadingView | renderSafely">\n      </div>\n    </ng-container>\n  </div>\n</div>\n',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return t})),multi:!0}],styles:[".slarn-autocomplete-container{padding-top:0;margin:0;position:relative}.slarn-autocomplete-container .curtan{position:absolute;background:rgba(255,255,255,.47);width:100%;z-index:1;left:-.5px;height:100%;cursor:not-allowed}.unselectable-text{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.container-rtl-direction{padding-left:15px;padding-right:3px;direction:rtl}.container-ltr-direction{padding-left:3px;padding-right:15px}.slarn-autocomplete-container select{display:none}.slarn-autocomplete-container input{margin-bottom:1px;display:table-cell;width:10px;box-sizing:border-box;border:none;min-height:28px;background-color:transparent}.slarn-autocomplete-container input:focus{outline:0}.slarn-autocomplete-container .selected-options{font-size:14px;margin-bottom:3px;display:inline-block}.selected-options-rtl{margin-left:5px}.selected-options-ltr{margin-right:5px}.slarn-autocomplete-container .selected-options .text{padding:2px;cursor:default}.slarn-autocomplete-container .selected-options .remove{border-right:none;border-top:none;border-bottom:none;cursor:pointer;padding-left:10px;padding-right:3px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAW0lEQVR4AWMYWUCAGmr4gfgeEPfjUdMPVcNPyLB2IP6Pw7B+qFw7bu2ENbSji5FqWAMQN8JdSSaYBjKAIkMQrkIYRKkhjQS9RnlgUx79jdRMkLzUyCKCDCMHAABoYiU8YS3zcAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center;background-size:70%}.slarn-autocomplete-container .suggestions{position:absolute;width:100%;background:#fff;z-index:2;display:block;max-height:200px;overflow-y:auto;left:-1px}.loading-data,.slarn-autocomplete-container .no-match-found{padding:5px}.slarn-autocomplete-container .toggle-suggestions-display{position:absolute;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBwcLEx22EzYqAAAAW0lEQVQoz2NgGAyAm2EFgxBWGRGG1QysTAxfGZ4z7MGiRIRhH8Mdht8QTj/DOTQlwgwXGdqRBVCVCDNcQJVGVSLEcB5TGqEEpzRMyTnc0gwMDAytDPV0DWSiAAC0ghX2P8wBMwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNy0wN1QxMToxOToyOSswMjowMHRLTC0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDctMDdUMTE6MTk6MjkrMDI6MDAFFvSRAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center center;cursor:pointer;width:30px;background-color:transparent}.slarn-autocomplete-container .toggle-suggestions-display:hover{background-color:#ececec}"]})],e)}(),p=function(){function e(){this.unselectable=!1,this.onSuggestionClicked=new n.EventEmitter,this.focusSuggestion=!1}return e.prototype.ngOnInit=function(){},e.prototype.selectItem=function(){this.unselectable?console.log("this item is unselectable",this.item):this.onSuggestionClicked.emit(this.item)},a([n.Input("item")],e.prototype,"item",void 0),a([n.Input("unselectable")],e.prototype,"unselectable",void 0),a([n.Output("onSuggestionClicked")],e.prototype,"onSuggestionClicked",void 0),e=a([n.Component({selector:"slarn-ac-suggestion",template:'\n    <div [class.unselectable]="unselectable" class="sg" (click)="selectItem()" [focused]="focusSuggestion">\n      <div *ngIf="unselectable" class="suggestion-curtain"></div>\n      <div class="content">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  ',styles:["\n    .sg {\n      cursor: default;\n      position: relative;\n    }\n\n    .sg .content{\n      padding: 5px;\n    }\n\n    .sg .suggestion-curtain{\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background: #ffffffa3;\n      cursor: not-allowed;\n    }\n\n    .sg:not(.unselectable):hover {\n      background: #ececec;\n    }\n\n  "]})],e)}(),f=function(){function e(e){this.elem=e,this.activated=!0}return e.prototype.autoGrow=function(){if(this.activated){var e=this.elem.nativeElement;this.fireAutoGrow(e)}},e.prototype.fireAutoGrow=function(e){var t=document.createElement("div");t.style.padding="0",getComputedStyle&&(t.style.cssText=getComputedStyle(e,null).cssText),e.currentStyle&&(t.style.cssText=e.currentStyle.cssText),t.style.width="",t.style.position="absolute",t.innerHTML=e.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/ /g,"&nbsp;"),e.parentNode.appendChild(t);var n=t.clientWidth+5+1;t.parentNode.removeChild(t),e.style.width=n+"px"},e.ctorParameters=function(){return[{type:n.ElementRef}]},a([n.Input("activated")],e.prototype,"activated",void 0),a([n.HostListener("keyup"),n.HostListener("keydown"),n.HostListener("keypress ")],e.prototype,"autoGrow",null),e=a([n.Directive({selector:"[autoGrow]"})],e)}(),h=function(){function e(e,t){this.elementRef=e,this.renderer=t}return Object.defineProperty(e.prototype,"focused",{set:function(e){e?(this.renderer.selectRootElement(this.elementRef.nativeElement).scrollIntoView(),this.elementRef.nativeElement.style.background="#ececec"):this.elementRef.nativeElement.style.background=null},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},a([n.Input()],e.prototype,"focused",null),e=a([n.Directive({selector:"[focused]"})],e)}(),m=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e){return this.sanitized.bypassSecurityTrustHtml(e)},e.ctorParameters=function(){return[{type:r.DomSanitizer}]},e=a([n.Pipe({name:"renderSafely"})],e)}(),y=function(){function e(){}return e=a([n.NgModule({imports:[o.CommonModule,t.HttpClientModule],declarations:[g,p,f,h,m],providers:[c],exports:[g]})],e)}();e.ACService=c,e.SlarnAutocompleteComponent=g,e.SlarnAutocompleteModule=y,e.SlarnAutocompleteSuggestionComponent=p,e.ɵa=f,e.ɵb=h,e.ɵc=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=slarn-autocomplete-ca.umd.min.js.map